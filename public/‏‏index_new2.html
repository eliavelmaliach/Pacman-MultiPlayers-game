<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>HTML Template</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CVarela+Round" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<!-- Owl Carousel -->
	<link type="text/css" rel="stylesheet" href="css/owl.carousel.css" />
	<link type="text/css" rel="stylesheet" href="css/owl.theme.default.css" />

	<!-- Magnific Popup -->
	<link type="text/css" rel="stylesheet" href="css/magnific-popup.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/style.css" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<!-- Header -->
	<header id="home">
		<!-- Background Image -->
		<div class="bg-img" style="background-image: url('./img/pacman.jpg');">
			<div class="overlay"></div>
		</div>
		<!-- /Background Image -->

		<!-- Nav -->
		<nav id="nav" class="navbar nav-transparent">
			<div class="container">

				<div class="navbar-header">
					<!-- Logo -->
					<div class="navbar-brand">
						<a href="index.html">
							<!-- TODO: panthers logo -->
						</a>
					</div>
					<!-- /Logo -->

					<!-- Collapse nav button -->
					<div class="nav-collapse">
						<span></span>
					</div>
					<!-- /Collapse nav button -->
				</div>

				<!--  Main navigation  -->
				<ul class="main-nav nav navbar-nav navbar-right">
					<li><a href="#home">Home</a></li>
					<li><a href="#about">About</a></li>
					<li class="has-dropdown"><a href="#team">Team</a>
						<ul class="dropdown">
							<li><a href="">Shai Stein</a></li>
							<li><a href="">Eliav Elmaliach</a></li>
							<li><a href="">Mor Tubul</a></li>
							<li><a href="">Amit Taranto</a></li>
							<li><a href="">Tal Elisha</a></li>
						</ul>
					</li>
					<li><a href="#contact">Contact</a></li>
				</ul>
				<!-- /Main navigation -->

			</div>
		</nav>
		<!-- /Nav -->

		<!-- home wrapper -->
		<div class="home-wrapper">
			<div class="container">
				<div class="row">

					<!-- home content -->
					<div class="col-md-10 col-md-offset-1">
						<div class="home-content">
							<h1 class="white-text">MULTI PLAYER PACMAN</h1>
							<p class="white-text">please choose your game mode
							</p>
							<button class="main-btn" href="#signup" data-toggle="modal"
								data-target=".bs-modal-sm">Getting
								Started</button>
						</div>
					</div>
					<!-- /home content -->

				</div>
			</div>
		</div>
		<!-- /home wrapper -->

	</header>
	<!-- /Header -->
	<div class="modal fade bs-modal-sm" id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
		aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<br>
				<div class="bs-example bs-example-tabs">
					<ul id="myTab" class="nav nav-tabs">
						<li class="active"><a href="#signin" data-toggle="tab">Sign In</a></li>
						<li class=""><a href="#signup" data-toggle="tab">Register</a></li>
						<li class=""><a href="#why" data-toggle="tab">Why?</a></li>
					</ul>
				</div>
				<div class="modal-body">
					<div id="myTabContent" class="tab-content">
						<div class="tab-pane fade in" id="why">
							<p>maybe instruction</p>
						</div>
						<div class="tab-pane fade active in" id="signin">
							<form class="form-horizontal">
								<fieldset>
									<!-- Sign In Form -->
									<!-- Text input-->
									<div class="control-group">
										<label class="control-label" for="Email">Email:</label>
										<div class="controls">
											<input required="" id="log_Email" name="Email" type="text"
												class="form-control" placeholder="E-Mail" class="input-medium"
												required="">
										</div>
									</div>

									<!-- Password input-->
									<div class="control-group">
										<label class="control-label" for="passwordinput">Password:</label>
										<div class="controls">
											<input required="" id="log_pass" name="passwordinput"
												class="form-control" type="password" placeholder="********"
												class="input-medium">
										</div>
									</div>

									<!-- Button -->
									<div class="control-group">
										<label class="control-label" for="signin"></label>
										<div class="controls">
											<button id="signin" name="signin" class="btn btn-success" onclick="loginFunc()">Sign In</button>
										</div>
									</div>
								</fieldset>
							</form>
						</div>
						<div class="tab-pane fade" id="signup">
							<form class="form-horizontal">
								<fieldset>
									<!-- Sign Up Form -->
									<!-- Text input-->
									<div class="control-group">
										<label class="control-label" for="Email">Email:</label>
										<div class="controls">
											<input id="Email" name="Email" class="form-control" type="text"
												placeholder="E-Mail" class="input-large"
												required="">
										</div>
									</div>


									<!-- Password input-->
									<div class="control-group">
										<label class="control-label" for="password">Password:</label>
										<div class="controls">
											<input id="password" name="password" class="form-control" type="password"
												placeholder="********" class="input-large" required="">
											<em>1-8 Characters</em>
										</div>
									</div>


									<!-- Multiple Radios (inline) -->

									<!-- Button -->
									<div class="control-group">
										<label class="control-label" for="confirmsignup"></label>
										<div class="controls">
											<button id="confirmsignup" name="confirmsignup" class="btn btn-success"
												onclick="registerFunc()">Sign Up</button>

										</div>
									</div>
								</fieldset>
							</form>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<center>
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</center>
				</div>
			</div>
		</div>
	</div>
	</div>




	<!-- /Footer -->

	<!-- Back to top -->
	<div id="back-to-top"></div>
	<!-- /Back to top -->

	<!-- Preloader -->
	<div id="preloader">
		<div class="preloader">
			<span></span>
			<span></span>
			<span></span>
			<span></span>
		</div>
	</div>
	<!-- /Preloader -->

	<!-- jQuery Plugins -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	<script>

		function _isContains(json, email, pass) {
			for (var key in json) {
				if (json.hasOwnProperty(key)) {
					alert(json['email']);
					if (json['email'] === email && json['pass'] === pass)
						return true;
				}
			}
			return false;
		}
		function register(obj) {
			fetch("/app/register", {
				method: "POST",
				headers: {
					'Content-Type': 'application/json',
				},
				body: JSON.stringify(obj)
			}).then(res=> {
				alert(res.status);
				if(res.status === 302) {
					setTimeout(function () { document.location.href = "index.html" }, 500);
					alert("The user is already registered in the system");
				}
				if(res.status === 201){
					setTimeout(function () { document.location.href = "index2.html" }, 500);
				}
					
				res.json();
			}).then(data=> {
			}).catch(err => {

			});
		}

		function login(obj) {
			fetch("/app/login", {
				method: "POST",
				headers: {
					'Content-Type': 'application/json',
				},
				body: JSON.stringify(obj)
			}).then(res=> {
				alert(res.status);
				if(res.status === 201) {
					setTimeout(function () { document.location.href = "index.html" }, 500);
					alert("The user doesn't exist in the system");
				}
				res.json();
			}).then(data=> {
			}).catch(err => {

			});
		}

		function registerFunc() {
			var email = document.getElementById("Email").value;
			var password = document.getElementById("password").value;
			const register_obj = { 'Mail': email, 'Pass': password };
			register(register_obj);
			setTimeout(function () { document.location.href = "index2.html" }, 500);
		}

		function loginFunc() {
			var email = document.getElementById("log_Email").value;
			var password = document.getElementById("log_pass").value;
			const register_obj = { 'Mail': email, 'Pass': password };
			login(register_obj);
			setTimeout(function () { document.location.href = "index2.html" }, 500);
		}

	</script>
</body>

</html>